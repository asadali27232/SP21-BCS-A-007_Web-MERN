<header class="px-5">
    <a href="/">
        <img id="logo" src="images/logoX.png" alt="Logo" />
    </a>
    <nav>
        <a href="/home">Home</a>
        <a href="/products">Products</a>
        <a href="/register">Register</a>
        <% if (req.session.user) { %>
        <!-- If user is logged in, show logout link -->
        <a href="#" onclick="logout()">Logout</a>
        <% } else { %>
        <!-- If user is not logged in, show login link -->
        <a href="/login">Login</a>
        <% } %>
    </nav>
</header>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    function logout() {
        $.ajax({
            url: '/logout',
            type: 'POST',
            success: function (data) {
                window.location.href = '/login';
            },
            error: function (error) {
                alert(error.responseJSON.error); // Handle the error
            },
        });
        return false; // Prevent the default link behavior
    }
</script>
